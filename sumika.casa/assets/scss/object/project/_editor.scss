@use "sass:math";
@use "../../global/" as *;

.p-editor {
  margin-top: rem(50);

  @include responsive(md, min) {
    margin-top: vw(50);
  }

  & > h2 {
    margin-top: rem(80);

    @include responsive(md, min) {
      margin-top: vw(80);
    }
  }

  h2 {
    @include font(18, 36, 20, 600);

    @include responsive(md, min) {
      @include vwfont(1280, 18);
    }

    & + p {
      margin-top: rem(16);

      @include responsive(md, min) {
        margin-top: vw(16);
      }
    }

    & + span {
      margin-top: rem(16);
      display: inline-block;

      @include responsive(md, min) {
        margin-top: vw(16);
      }
    }
  }

  p {
    @include font(16, 32, 0);

    @include responsive(md, min) {
      @include vwfont(1280, 16);
    }

    a {
      position: relative;
      padding-bottom: rem(4);
      padding-right: 2px;
      padding-left: 2px;

      @include responsive(md, min) {
        padding-bottom: vw(4);
        padding-right: vw(2);
        padding-left: vw(2);
      }
  
      @include hover {
  
        &:after {
          transform: scale(1);
          transform-origin: left;
        }
      }
  
      &:after {
        content: '';
        position: absolute;
        display: block;
        width: 100%;
        height: 1px;
        background-color: #111;
        bottom: 0;
        transform: scale(0);
        transform-origin: right;
        left: 0;
        transition: transform 0.3s ease;

        @include responsive(md, min) {
          height: vw(1);
        }
      }
  
      &:before {
        content: '';
        position: absolute;
        display: block;
        width: 100%;
        height: 1px;
        left: 0;
        background-color: #d3d3d3;
        bottom: 0;

        @include responsive(md, min) {
          height: vw(1);
        }
      }
    }

    & + p {
      margin-top: rem(16);

      @include responsive(md, min) {
        margin-top: vw(16);
      }
    }
  }

  .wp-block-table {
    overflow-x: auto;

    &:not(:first-child) {
      margin-top: rem(30);

      @include responsive(md, min) {
        margin-top: vw(30);
      }
    }
  }

  .wp-block-image {
    border-radius: rem(6);
    overflow: hidden;

    @include responsive(md, min) {
      border-radius: vw(6);
    }


    &:not(:first-child) {
      margin-top: rem(50);

      @include responsive(md, min) {
        margin-top: vw(50);
      }
    }

    img {
      width: 100%;
    }

    figcaption {
      margin-top: rem(10);
      @include font(12, 24, 0);
      color: color(darkgray);

      @include responsive(md, min) {
        margin-top: vw(10);
        @include vwfont(1280, 12, 24, 0);
      }

      a {
        position: relative;
        padding-bottom: rem(4);
        padding-right: 2px;
        padding-left: 2px;
    
        @include hover {
    
          &:after {
            transform: scale(1);
            transform-origin: left;
          }
        }
    
        &:after {
          content: '';
          position: absolute;
          display: block;
          width: 100%;
          height: 1px;
          background-color: #111;
          bottom: 0;
          transform: scale(0);
          transform-origin: right;
          left: 0;
          transition: transform 0.3s ease;
        }
    
        &:before {
          content: '';
          position: absolute;
          display: block;
          width: 100%;
          height: 1px;
          left: 0;
          background-color: #d3d3d3;
          bottom: 0;
        }
      }
    }
  }

  figure {

    & + p {
      margin-top: rem(30);

      @include responsive(md, min) {
        margin-top: vw(30);
      }
    }
  }

  table {
    border-collapse: collapse;
    min-width: 100%;

    &.has-fixed-layout {
      table-layout: fixed;
    }

    thead {
      
      th,
      td {
        @include font(16, 32, 0);
        background-color: color(smoke);
        padding-top: rem(10);
        padding-right: 14px;
        padding-bottom: rem(10);
        padding-left: 14px;
        text-align: left;
        white-space: nowrap;
  
        @include responsive(md, min) {
          @include vwfont(1280, 16);
          padding-top: vw(10);
          padding-right: vw(14);
          padding-bottom: vw(10);
          padding-left: vw(14);
        }
      }
    }


    tbody {

      th,
      td {
        @include font(16, 32, 0);
        border-bottom: 1px solid color(smoke);
        padding-top: rem(10);
        padding-right: 14px;
        padding-bottom: rem(10);
        padding-left: 14px;
        white-space: nowrap;

        @include responsive(md, min) {
          @include vwfont(1280, 16, 32, 0);
          border-bottom: vw(1) solid color(smoke);
          padding-top: vw(10);
          padding-right: vw(14);
          padding-bottom: vw(10);
          padding-left: vw(14);
        }
      }
    }
  }

  iframe {
    max-width: 100% !important;
    width: 100% !important;
    margin-top: rem(50) !important;

    @include responsive(md, min) {
      margin-top: vw(50) !important;
    }

    & + p {
      margin-top: rem(50);

      @include responsive(md, min) {
        margin-top: vw(50);
      }
    }
  }

  script {

    & + p {
      margin-top: rem(50);

      @include responsive(md, min) {
        margin-top: vw(50);
      }
    }
  }
}

.p-editorProfile {

  &__heading {
    font-size: 16px;
    margin: 0 0 24px;
    letter-spacing: 6px;
    padding: 0 0 12px;
    font-family: 'Wandeln';
    display: block;
    text-align: center;
    position: relative;
  
    &::before,
    &::after {
      content: '';
      width: 16px;
      height: 1px;
      position: absolute;
      left: 50%;
      -webkit-transform: translateX(-50%);
      transform: translateX(-50%);
    }
  
    &::before {
      background: #d3d3d3;
      bottom: 5px;
    }
  
    &::after {
      background: #727171;
      bottom: 0;
    }
  }

  // .p-editorProfile__wrapper
  &__wrapper {
    padding-top: rem(22);
    padding-right: 20px;
    padding-bottom: rem(20);
    padding-left: 20px;
    background: #f0f0f0;
    overflow: hidden;
    border-radius: rem(6);
    
    @include responsive(sm, min) {
      padding-top: rem(36);
      padding-right: 40px;
      padding-bottom: rem(36);
      padding-left: 40px;
    }
    
    @include responsive(md, min) {
      border-radius: vw(6);
      padding-top: vw(36);
      padding-right: vw(40);
      padding-bottom: vw(36);
      padding-left: vw(40);
    }
  }

  &__name {
  
    p {
      @include font(16, 24, 40, 600);

      @include responsive(md, min) {
        @include vwfont(1280, 18);
      }
    }
  }
  
  &__detail {
    margin-top: rem(12);

    @include responsive(md, min) {
      margin-top: vw(16);
    }

    dl {
      display: flex;
      flex-wrap: wrap;

      dt,
      dd {
        @include font(14, 28, 0);

        @include responsive(sm, min) {
          @include font(16, 32, 0);
        }

        @include responsive(md, min) {
          @include vwfont(1280, 16, 32, 0);
        }

        &:not(:first-of-type) {
          margin-top: rem(4);

          @include responsive(sm, min) {
            margin-top: rem(8);
          }

          @include responsive(md, min) {
            margin-top: vw(8);
          }
        }
      }
  
      dt {
        width: per(100, 335);

        @include responsive(sm, min) {
          width: per(150, 720);
        }
      }
  
      dd {
        width: per(235, 335);
        padding-left: 10px;

        @include responsive(sm, min) {
          width: per(570, 720);
        }

        @include responsive(md, min) {
          padding-left: vw(10);
        }
  
        h2 {
          @include font(14, 28, 0, 400);

          @include responsive(sm, min) {
            @include font(16, 32, 0, 400);
          }

          @include responsive(md, min) {
            @include vwfont(1280, 16, 32, 0, 400);
          }
        }
      }
    }
  }

  & + p {
    margin-top: rem(50);

    @include responsive(md, min) {
      margin-top: vw(50);
    }
  }
}

.p-editorRoomtour {
  $this: &;
  margin-top: rem(50);
  position: relative;
  user-select: none;

  @include responsive(md, min) {
    margin-top: vw(50);
  }

  &.is-active {

    #{$this}__pin {
      opacity: 0;
      visibility: hidden;
    }

    #{$this}__item {
      opacity: 1;
      visibility: visible;

      @include hover {
        opacity: 0.5;
      }
    }

    #{$this}Guidance {

      @include responsive(sm, min) {
        width: 100%;
      }
    }
    
    #{$this}Guidance__text {
      
      @include responsive(sm, min) {
        opacity: 1;
        visibility: visible;
      }
    }
  }

  // .p-editorRoomtour__guidance
  &__guidance {
    display: none;

    @include responsive(sm, min) {
      display: block;
      position: absolute;
      pointer-events: none;
      bottom: 20px;
      left: 20px;
    }

    @include responsive(md, min) {
      bottom: vw(20);
      left: vw(20);
    }
  }

  &__wrapper {
    position: absolute;
    height: 100%;
    width: 100%;
    top: 0;
    left: 0;
  }

  // .p-editorRoomtour__pin
  &__pin {
    position: absolute;
    display: block;
    z-index: 100;
    opacity: 1;
    visibility: visible;
    transition: opacity 0.3s ease,
      visibility 0.3s ease;
  }

  // .p-editorRoomtour__item
  &__item {
    position: absolute;
    display: block;
    z-index: 100;
    opacity: 0;
    visibility: hidden;
    transition: opacity 0.3s ease,
      visibility 0.3s ease;

    &.--left {

      #{$this}__title {
        transform: translateX(calc(-15% + 8px));
      }
      
      #{$this}__pointer {
        left: 15%;
      }
    }

    // .p-editorRoomtour__item.--center
    &.--center {
      
      #{$this}__title {
        transform: translateX(calc(-50% + 7px));

        @include responsive(sm, min) {
          transform: translateX(calc(-50% + 8px));
        }

        @include responsive(md, min) {
          transform: translateX(calc(-50% + vw(8)));
        }
      }
    }

    &.--right {
      
      #{$this}__title {
        transform: translateX(calc(-85% + 8px));
      }

      #{$this}__pointer {
        left: 85%;
      }
    }

    &.--up {
      
      #{$this}__pointer {
        transform: scaleY(0.65);
      }

      #{$this}__title {
        top: rem(10);

        @include responsive(sm, min) {
          top: rem(11);
        }

        @include responsive(md, min) {
          top: vw(11);
        }
      }
    }

    &.--down {

      #{$this}__pointer {
        transform: scaleY(0.65) rotate(-180deg);
        position: relative;
        bottom: rem(10);

        @include responsive(sm, min) {
          bottom: rem(10);
        }

        @include responsive(md, min) {
          bottom: vw(10);
        }
      }

      #{$this}__title {
        bottom: rem(20);

        @include responsive(sm, min) {
          bottom: rem(21);
        }

        @include responsive(md, min) {
          bottom: vw(21);
        }
      }
    }
  }

  &__pointer {
    display: block;
    
    span {
      display: block;
      position: relative;
      border-top-left-radius: 30%;
      transform: rotate(30deg) skewY(30deg) scaleX(.86666);
      width: 10px;
      height: 10px;
      background: color(black);

      @include responsive(sm, min) {
        width: 11px;
        height: 11px;
      }

      @include responsive(md, min) {
        width: vw(11);
        height: vw(11);
      }

      &:before,
      &:after {
        content: '';
        position: absolute;
        width: 10px;
        height: 10px;
        background: color(black);

        @include responsive(sm, min) {
          width: 11px;
          height: 11px;
        }
  
        @include responsive(md, min) {
          width: vw(11);
          height: vw(11);
        }
      }
      
      &:before {
        transform: skewX(-45deg) translateX(50%);
      }
  
      &:after {
        transform: skewY(-45deg) translateY(50%);
      }
    }
  }

  // .p-editorRoomtour__title
  &__title {
    width: auto;
    max-width: 300px;
    position: absolute;
    display: block;
    color: color(white);

    @include responsive(md, min) {
      max-width: vw(300);
    }
    
    // .p-editorRoomtour__title a
    a {
      max-width: 130px;
      overflow: hidden;
      text-overflow: ellipsis;
      white-space: nowrap;
      display: block;
      @include font(10, 15, 0);
      padding-top: rem(6);
      padding-right: 8px;
      padding-bottom: rem(6);
      padding-left: 9px;
      background-color: color(black);
      border-radius: 6px;
      
      @include responsive(sm, min) {
        max-width: 200px;
        @include font(12);
        padding-top: rem(8);
        padding-right: 8px;
        padding-bottom: rem(8);
        padding-left: 10px;
      }
      
      @include responsive(md, min) {
        max-width: vw(200);
        @include vwfont(1280, 12);
        padding-top: vw(8);
        padding-right: vw(8);
        padding-bottom: vw(8);
        padding-left: vw(10);
        border-radius: vw(6);
      }
    }
  }

  &__image {
    overflow: hidden;
    border-radius: rem(6);

    @include responsive(md, min) {
      border-radius: vw(6);
    }
  }
  
  & + p {
    margin-top: rem(50);
  }
}

.p-editorRoomtourPin {
  position: absolute;
  display: block;
  top: 50%;
  left: calc(50% + 5px);
  transform: translate(-50%, -50%);
  background-color: color(main);
  width: 20px;
  height: 20px;
  border-radius: 50%;

  @include responsive(md, min) {
    width: 30px;
    height: 30px;
  }

  @include responsive(md, min) {
    left: calc(50% + vw(5));
    width: vw(30);
    height: vw(30);
  }

  span {
    position: absolute;
    display: block;
    width: 10px;
    background-color: color(white);
    top: 50%;
    left: 50%;

    @include responsive(md, min) {
      width: 12px;
    }

    @include responsive(md, min) {
      width: vw(12);
    }
    
    &:nth-child(1) {
      height: 1px;
      border-radius: 0.5px;
      transform: translate(-50%, -50%);

      @include responsive(md, min) {
        height: vw(1);
        border-radius: vw(0.5);
      }
    }

    &:nth-child(2) {
      height: 2px;
      border-radius: 1px;
      transform: translate(-50%, -50%) rotate(-90deg);

      @include responsive(md, min) {
        height: vw(2);
        border-radius: vw(1);
      }
    }
  }
}

.p-editorRoomtourGuidance {
  background-color: rgba(0, 0, 0, 0.8);
  height: 26px;
  width: 26px;
  border-radius: 15px;
  display: flex;
  align-items: center;
  column-gap: 7px;
  position: relative;
  transition: width 0.3s ease;
  
  @include responsive(sm, max) {
    justify-content: center;
  }

  @include responsive(sm, min) {
    height: 40px;
    width: 40px;
    padding-left: 11px;
    padding-right: 13px;
    column-gap: 10px;
    border-radius: 20px;
  }

  @include responsive(md, min) {
    height: vw(40);
    width: vw(40);
    padding-left: vw(11);
    padding-right: vw(13);
    column-gap: vw(10);
    border-radius: vw(20);
  }

  &__icon {
    
    svg {
      display: block;
      width: 11px;
      height: 11px;
      stroke: color(white);
      fill: none;
      stroke-width: 6px;

      @include responsive(sm, min) {
        width: 18px;
        height: 18px;
      }

      @include responsive(md, min) {
        width: vw(18);
        height: vw(18);
      }
    }
  }

  &__text {
    display: none;
    
    @include responsive(sm, min) {
      @include font(12, 18, 0);
      display: block;
      color: color(white);
      opacity: 0;
      visibility: hidden;
      z-index: 1;
      white-space: nowrap;
      transition: opacity 0.3s ease,
        visibility 0.3s ease;
    }

    @include responsive(md, min) {
      @include vwfont(1280, 12, 18, 0);
    }
  }
}

.p-editorItem {
  max-width: 400px;
  margin-right: auto;
  margin-left: auto;
  margin-top: rem(50);

  @include responsive(md, min) {
    margin-top: vw(50);
  }

  &__image {
    display: block;
    border-radius: rem(6);
    overflow: hidden;

    @include responsive(md, min) {
      border-radius: vw(6);
    }

    img {
      width: 100%;
    }
  }

  &__link {
    box-shadow: rgba(0, 0, 0, 0.1) 0px 1px 20px 0px;
    padding: 14px;
    border-radius: rem(6);
    display: block;
    transition: box-shadow 0.3s ease;
    background-color: color(white);

    @include responsive(md, min) {
      padding: vw(14);
      border-radius: vw(6);
    }
  }

  &__title {
    margin-top: rem(20);
    display: block;

    @include responsive(md, min) {
      margin-top: vw(20);
    }

    span {
      @include font(16, 24, 0, 700);

      @include responsive(md, min) {
        @include vwfont(1280, 16, 24, 0, 700);
      }
    }
  }

  &__info {
    color: #727171;
    display: flex;
    justify-content: space-between;
    margin-top: rem(14);

    @include responsive(md, min) {
      margin-top: vw(14);
    }
  }

  // .p-editorItem__issue
  &__issue {

    span {
      @include font(14, 28, 0);

      @include responsive(md, min) {
        @include vwfont(1280, 14);
      }
    }
  }

  // .p-editorItem__page
  &__page {
    
    span {
      @include font(14, 28, 0);

      @include responsive(md, min) {
        @include vwfont(1280, 14);
      }
    }
  }

  &__detail {
    margin-top: rem(12);
    display: block;

    @include responsive(md, min) {
      margin-top: vw(12);
    }

    span {
      @include font(14, 28, 0);
      color: #727171;

      @include responsive(md, min) {
        @include vwfont(1280, 14);
      }
    }
  }

  &__price {
    display: flex;
    justify-content: flex-end;
    margin-top: rem(20);

    @include responsive(md, min) {
      margin-top: vw(20);
    }

    span {
      @include font(14, 28, 0);
      color: #727171;

      @include responsive(md, min) {
        @include vwfont(1280, 14);
      }
    }
  }

  &__button {
    display: flex;
    justify-content: flex-end;
    margin-top: rem(20);

    span {
      @include font(14, 28, 0);
      display: flex;
      align-items: center;
      background: color(main);
      color: color(white);
      border-radius: 6px;
      padding-top: rem(8);
      padding-right: 28px;
      padding-bottom: rem(8);
      padding-left: 32px;

      @include responsive(md, min) {
        @include vwfont(1280, 14);
        padding-top: vw(8);
        padding-right: vw(28);
        padding-bottom: vw(8);
        padding-left: vw(32);
      }
    }
  }

  & + p {
    margin-top: rem(50);

    @include responsive(md, min) {
      margin-top: vw(50);
    }
  }
}
